{% extends "base.html" %}

<title>{% block title %}Confirmation de réinitialisation de mot de passe - YCulture{% endblock %}</title>

{% block content %}
    {% load static %}
    <link rel="stylesheet" type="text/css" href="{% static 'css/registration.css' %}">

    <div class="base">
        {% if validlink %}
        <h2>Réinitialiser le mot de passe</h2>
        <p>Veuillez saisir un nouveau mot de passe :</p>
        <form method="post">
            {% csrf_token %}
            {% if form.new_password1.errors %}
                <ul class="alert alert-danger" aria-label="Erreurs">
                {% for error in form.new_password1.errors %}
                    <li>{{ error }}</li>
                {% endfor %}
                </ul>
            {% endif %}
            {% if form.new_password2.errors %}
                <ul class="alert alert-danger" aria-label="Erreurs">
                {% for error in form.new_password2.errors %}
                    <li>{{ error }}</li>
                {% endfor %}
                </ul>
            {% endif %}
            <ul>
                <li><label for="id_new_password1">Mot de passe</label></li>
                <li>{{ form.new_password1 }}</li>
                <li><label for="id_new_password2">Répéter le mot de passe</label></li>
                <li>{{ form.new_password2 }}</li>
            </ul>
            <ul>
                <li><button type="submit" aria-label="Soumettre" role="button">Soumettre</button></li>
                <li>ou</li>
                <li><a href="{% url 'login' %}" aria-label="Se connecter" role="link">Se connecter</a></li>
            </ul>
        </form>
        {% else %}
            <h2>Echec de réinitialisation du mot de passe</h2>
            <p>Le lien de réinitialisation de mot de passe est invalide. Veuillez réessayer.</p>
        {% endif %}
    </div>
{% endblock %}
